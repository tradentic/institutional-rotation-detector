# ============================================================================
# MINIMAL TIER CONFIGURATION
# ============================================================================
# Use case: Hobbyist, proof-of-concept, budget-constrained
# Monthly cost: ~$150-300
# Workflows: 8 core workflows
# Features: Core rotation detection + AI analysis only
#
# See: docs/architecture/DEPLOYMENT_TIERS.md
# ============================================================================

# Deployment Tier
DEPLOYMENT_TIER=minimal

# Feature Flags (Minimal tier defaults)
ENABLE_OPTIONS_FLOW=false
ENABLE_MICROSTRUCTURE=false
ENABLE_GRAPH_ANALYSIS=false
ENABLE_FORM4_TRACKING=false
ENABLE_RESEARCH_WORKFLOWS=false

# ============================================================================
# REQUIRED CONFIGURATION
# ============================================================================

# Supabase (Database)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# SEC EDGAR Configuration
# IMPORTANT: Replace with your actual name and email
# Format: "YourName your.email@domain.com"
SEC_USER_AGENT=YourCompany contact@yourcompany.com

# SEC Base URLs
EDGAR_BASE=https://www.sec.gov
EDGAR_DATA_API_BASE=https://data.sec.gov

# OpenAI API (for AI-powered analysis)
# Required for anomaly detection and narrative generation
OPENAI_API_KEY=sk-your-openai-key-here

# ============================================================================
# OPTIONAL CONFIGURATION
# ============================================================================

# Redis Configuration (for SEC API response caching)
REDIS_HOST=localhost
REDIS_PORT=6379
# REDIS_PASSWORD=
REDIS_ENABLE_CACHING=true

# Temporal Configuration
TEMPORAL_NAMESPACE=default
TEMPORAL_TASK_QUEUE=rotation-detector
TEMPORAL_ADDRESS=localhost:7233

# ETF Tracking (Russell 1000/2000 components)
# Comma-separated list of iShares ETF tickers
ISHARES_FUNDS=IWB,IWM,IWN,IWC

# Rate Limiting
MAX_RPS_EDGAR=8
QUARTER_BATCH=8

# ============================================================================
# NOT REQUIRED FOR MINIMAL TIER
# ============================================================================

# The following API keys are NOT needed in Minimal tier:
# - UNUSUALWHALES_API_KEY (options flow disabled)
# - FINRA_API_CLIENT / FINRA_API_SECRET (microstructure disabled)
# - IEX_API_KEY (microstructure disabled)

# ============================================================================
# ESTIMATED COSTS (Minimal Tier)
# ============================================================================
# - SEC EDGAR API: Free
# - Supabase: ~$10/mo (100K rows)
# - OpenAI GPT-5: ~$6/mo (200 events @ $0.03 each)
# - Compute (1 worker): ~$140/mo
# TOTAL: ~$156/mo base
#
# Scaling:
# - More tickers → More compute ($140-300)
# - More events → More AI analysis ($6-50)
# Realistic range: $150-300/mo
